{"version":3,"file":"static/webpack/static/development/pages/edit.js.8af90ff65edc7dac336c.hot-update.js","sources":["webpack:///./pages/edit.js"],"sourcesContent":["import Layout from \"./components/layout\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Form, FormField, Select, Button, Layer, Grommet } from \"grommet\";\nimport { Update } from \"grommet-icons\";\nimport { dark } from \"grommet/themes\";\n//should only show when user is logged in\n\nclass EditItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      id: \"\",\n      name: \"\",\n      url: \"\",\n      description: \"\",\n      price: \"\",\n      category: \"\"\n    }\n  };\n\n\n  // handleSubmit(e) {\n  //   e.preventDefault();\n  //   // console.log(this.state.items);\n  // }\n\n  handleChange = e => {\n    e.preventDefault();\n    let items = this.state.items;\n    let name = e.target.name;\n    let value = e.target.value;\n\n    items[name] = value;\n    this.setState({ items })\n  }\n\n  editItem = (id) => {\n    console.log(\"----->EDIT\")\n    fetch(\"http://localhost:8080/api/items\", {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\", \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: parseInt(req.body.id)\n      }),\n      credentials: \"include\"\n    }).then(res => {\n      console.log(\"------>ID!!!!!!\", id)\n    })\n      .then(res => {\n        console.log(\"EDITED USERITEM FROM ITEM LIST\")\n        return fetch(\"http://localhost:8080/api/items\")\n          .then((res) => { return res.json() })\n          .then((body) => { this.setState({ items: body }) })\n      })\n  }\n\n  render() {\n    const { item } = this.state;\n\n    return (\n      <Grommet theme={dark}>\n        <Layout>\n          <Box pad=\"large\">\n            <Form>\n\n              <FormField\n                onChange={this.handleChange}\n                value={this.state.items[\"name\"]}\n                name=\"name\"\n                label=\"Product Name\"\n                required={true}\n              />\n              <FormField\n                onChange={this.handleChange}\n                value={this.state.items[\"url\"]}\n                name=\"url\"\n                label=\"URL of Product Name\"\n                required={false}\n              />\n              <FormField\n                onChange={this.handleChange}\n                value={this.state.items[\"description\"]}\n                name=\"description\"\n                label=\"Product Description\"\n                required={true}\n              />\n              <FormField\n                onChange={this.handleChange}\n                value={this.state.items[\"price\"]}\n                name=\"price\"\n                label=\"Product Price\"\n                required={true}\n              />\n              <Select\n                placeholder=\"Category\"\n                onChange={this.handleChange}\n                value={this.state.category}\n                options={[\"WELLNESS\", \"OFFICE\", \"ACCESSORIES\"]}\n                onChange={({ option }) => this.setState({ category: option })}\n                name=\"category\"\n                required={true}\n              />\n              <Item edit={this.editItem} id={this.id} />\n            </Form>\n          </Box>\n        </Layout>\n      </Grommet>\n    );\n  }\n}\n\nfunction Item(props) {\n  return (\n    <div className=\"buttons\">\n      <Button\n        icon={<Update />}\n        type=\"submit\"\n        label=\"Update\"\n        primary={true}\n        onClick={() => props.edit(props.id)}\n      />\n    </div>\n  )\n}\n\nexport default EditItem;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAoBA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AA5BA;AA8BA;AACA;AACA;AACA;AACA;AAAA;AADA;AAGA;AACA;AADA;AAGA;AARA;AAUA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAhDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAFA;AAWA;AACA;;;AAuCA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AAJA;AAKA;AAAA;AAAA;AAAA;AAAA;AALA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AAxGA;AACA;AA0GA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;;;;A","sourceRoot":""}