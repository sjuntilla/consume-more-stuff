{"version":3,"file":"static/webpack/static/development/pages/itemform.js.cd31a6a1189e9b9eea04.hot-update.js","sources":["webpack:///./pages/useritems.js"],"sourcesContent":["import Layout from \"./components/layout\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport fetch from \"isomorphic-unfetch\";\nimport Link from \"next/link\";\nimport { Grommet, Heading, Anchor, Text, Box, Layer, Button } from \"grommet\";\nimport { Card } from \"grommet-controls\";\nimport { FormTrash, Edit } from \"grommet-icons\";\nimport { dark } from \"grommet/themes\";\nimport { Disposer } from \"bluebird\";\n\n\nclass UserItems extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      id: \"\",\n      name: \"\",\n      url: \"\",\n      description: \"\",\n      price: \"\",\n      category: \"\"\n    };\n  }\n\n  componentDidMount = e => {\n    fetch(\"http://localhost:8080/api/items\")\n      .then(res => {\n        return res.json();\n      })\n      .then(itemsData => {\n        this.setState({ items: itemsData });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n\n  removeItem = (id) => {\n\n    fetch(\"http://localhost:8080/api/items\", {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: id,\n      }),\n      credentials: \"include\"\n    })\n      .then(res => {\n        console.log(\"DELETED USERITEM FROM ITEM LIST\")\n        return fetch(\"http://localhost:8080/api/items\")\n          .then((res) => { return res.json() })\n          .then((body) => { this.setState({ items: body }) })\n      })\n  }\n\n  render() {\n    const { items } = this.state;\n\n    return (\n      <Grommet theme={dark}>\n        <Layout>\n          <Box key=\"wrapper\" direction=\"row\" wrap=\"true\" alignContent=\"between\">\n            {items.map(item => (\n\n              <Card\n                basis=\"medium\"\n                animation=\"fadeIn\"\n                background=\"dark-1\"\n                elevation=\"xxsmall\"\n                gap=\"small\"\n                margin=\"medium\"\n                key={item.id}\n              >\n                <Card.CardTitle color=\"neutral-2\">{item.name}</Card.CardTitle>\n                <Card.CardContent color=\"dark-1\">\n                  <Text>{item.description}</Text>\n                  <Text>${item.price}</Text>\n                  <Text>{item.category}</Text>\n                  <Item delete={this.removeItem} id={item.id} />\n                </Card.CardContent>\n              </Card>\n            ))}\n          </Box>\n        </Layout>\n      </Grommet>\n    );\n  }\n}\n\nfunction Item(props) {\n  return (\n    <div className=\"buttons\">\n      <Button\n        icon={<FormTrash />}\n        label=\"Delete\"\n        onClick={() => props.delete(props.id)}\n      />\n      <Button\n        icon={<Edit />}\n        label=\"Edit\"\n        onClick={() =>\n          console.log(\"--->EDIT BUTTON FIRED\")}\n      />\n    </div>\n  )\n}\n\nexport default UserItems;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAcA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAzBA;AA6BA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;AATA;AAYA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AA7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAFA;AAWA;AACA;;;AAoCA;AAAA;AACA;AADA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhBA;AAwBA;;;;AAhFA;AACA;AAkFA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;;;;A","sourceRoot":""}